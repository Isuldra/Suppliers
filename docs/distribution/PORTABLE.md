# SupplyChain OneMed - Portable Version

This document explains the portable version of SupplyChain OneMed for Windows.

## What is the Portable Version?

The portable version (`OneMed SupplyChain-Portable.exe`):

- Runs directly from the executable file without a formal installation process.
- Does **not** require administrator rights to run.
- Can be placed on a USB drive or network share and run from there.
- Uses the standard user application data folder for storing data (see Data Location).
- Does not typically modify the Windows registry (beyond what Electron/Chromium might do internally).

## Creating the Portable Version (Recommended)

Building on Windows is recommended due to native dependencies (`better-sqlite3`):

1. Ensure prerequisites are met (Node.js, npm, Git, build tools).
2. Install dependencies:
   ```bash
   npm install
   ```
3. Run the standard portable build script:
   ```bash
   npm run dist:portable
   ```
4. The portable executable (`OneMed SupplyChain-Portable.exe`) will be created in the `release` directory (based on `package.json` config).

_(Note: An alternative `npm run portable` script exists using `scripts/create-portable.js`, which might produce a different output format like a ZIP file. Using `npm run dist:portable` is generally recommended for standard portable builds.)_

## How the Portable Version Works

- **No Installation Required**: Simply run the `.exe` file.
- **Self-Contained Application**: The executable bundles the core application code.
- **Data Location**: Crucially, the portable version **does NOT store data** (database, logs, settings) in a folder next to the executable. It uses the **standard user application data directory**, typically:
  - `%LOCALAPPDATA%\one-med-supplychain-app` on Windows.
    (The exact folder name depends on `name` in `package.json`).
    This means data persists on the specific user's account on that machine, independent of where the `.exe` file is located.

## Distributing the Portable Version

To distribute the portable version:

1. Share the single `OneMed SupplyChain-Portable.exe` file (generated by `npm run dist:portable`) with users.
2. Users can place this `.exe` file anywhere they have execute permissions (e.g., Desktop, Documents, USB drive).

## Instructions for Users

1. Place the `OneMed SupplyChain-Portable.exe` file in a convenient location.
2. Double-click the `.exe` file to run the application.
3. Your application data (database, logs) will be saved automatically in your user profile's application data folder (e.g., `%LOCALAPPDATA%\one-med-supplychain-app`). It is **not** saved in the same folder as the `.exe`.
4. To use the application on another computer, simply copy the `.exe` file there. Your data will **not** automatically follow unless you manually copy the data folder from the AppData directory.

## Limitations

Compared to the installed version, the portable version:

1. Does not create Start Menu or Desktop shortcuts automatically.
2. Does not appear in Windows' "Add or Remove Programs" list.
3. Cannot be updated automatically via the built-in updater (usually requires replacing the `.exe` file with a newer version).
4. Stores data in the user's AppData folder, not alongside the executable.

## Troubleshooting

If users encounter issues:

1. **Application Won't Start**: Ensure the `.exe` wasn't corrupted during transfer. Check if antivirus software is interfering. Verify the user has permissions to execute programs from that location.
2. **Data Seems Missing (after moving computers)**: Remind users that data is stored in the user's AppData folder on the _original_ machine, not next to the `.exe`.
